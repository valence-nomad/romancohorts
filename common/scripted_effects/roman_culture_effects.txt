convert_to_roman_culture_effect = {
    root = {
        save_scope_as = converter
    }
    root.culture = {
        save_scope_as = original_culture
    }

    add_prestige = medium_prestige_gain

    set_culture = culture:roman
    if = {
        limit = { any_spouse = { is_landed = no } }
        every_spouse = {
            limit = {
                is_landed = no
            }
            set_culture = culture:roman
        }
    }
    if = {
        limit = {
            any_close_family_member = {
                is_landed = no
                NOT = { is_spouse_of = root }
            }
        }
        every_close_family_member = {
            limit = {
                is_landed = no
                NOT = { is_spouse_of = root }
            }
            custom = { all_unlanded_family_members }
            set_culture = culture:roman
        }
    }

    if = {
        limit = {
            any_vassal_or_below = {
                is_ai = yes
            }
            primary_title = {
                OR = {
                    de_jure_liege = title:e_byzantium
                    de_jure_liege.de_jure_liege = title:e_byzantium
                    de_jure_liege.de_jure_liege.de_jure_liege = title:e_byzantium
                    de_jure_liege.de_jure_liege.de_jure_liege.de_jure_liege = title:e_byzantium

                    de_jure_liege = title:e_wre
                    de_jure_liege.de_jure_liege = title:e_wre
                    de_jure_liege.de_jure_liege.de_jure_liege = title:e_wre
                    de_jure_liege.de_jure_liege.de_jure_liege.de_jure_liege = title:e_wre
                    
                    de_jure_liege = title:e_roman_empire
                    de_jure_liege.de_jure_liege = title:e_roman_empire
                    de_jure_liege.de_jure_liege.de_jure_liege = title:e_roman_empire
                    de_jure_liege.de_jure_liege.de_jure_liege.de_jure_liege = title:e_roman_empire
                }
            }
        }
        every_vassal_or_below = {
            custom = convert_to_roman_culture_vassals_custom
            limit = {
                is_ai = yes
                primary_title = {
                    OR = {
                        de_jure_liege = title:e_byzantium
                        de_jure_liege.de_jure_liege = title:e_byzantium
                        de_jure_liege.de_jure_liege.de_jure_liege = title:e_byzantium
                        de_jure_liege.de_jure_liege.de_jure_liege.de_jure_liege = title:e_byzantium

                        de_jure_liege = title:e_wre
                        de_jure_liege.de_jure_liege = title:e_wre
                        de_jure_liege.de_jure_liege.de_jure_liege = title:e_wre
                        de_jure_liege.de_jure_liege.de_jure_liege.de_jure_liege = title:e_wre

                        de_jure_liege = title:e_roman_empire
                        de_jure_liege.de_jure_liege = title:e_roman_empire
                        de_jure_liege.de_jure_liege.de_jure_liege = title:e_roman_empire
                        de_jure_liege.de_jure_liege.de_jure_liege.de_jure_liege = title:e_roman_empire
                    }
                }
            }
            set_culture = culture:roman
        }
    }

    every_county_in_region = {
        region = world_europe_south_italy
        custom = convert_to_roman_culture_counties_custom
        limit = {
            target_is_de_facto_liege_or_above = root.primary_title
        }
        random = {
            chance = 50
            set_county_culture = culture:roman
        }
    }

    culture:roman = {
        custom_tooltip = decision_convert_to_roman_culture_get_innovations
        hidden_effect = {
            get_all_innovations from scope:original_culture
        }
    }
}